specVersion: 0.0.2
description: Treejer V1
repository: https://github.com/SinaHo/treejer-thegraph-v1
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: Planter
    network: rinkeby
    source:
      address: '0x37Cc39F92664a503B9C35b7bc35777b17F1b7ae8'
      abi: Planter
      startBlock: 9452705
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Planter
      abis:
        - name: Planter
          file: ./abis/Planter.json
        # - name: PlanterFund
        #   file: ./abis/PlanterFund.json
      eventHandlers:
        - event: PlanterJoined(address)
          handler: handlePlanterJoined
        - event: OrganizationJoined(address)
          handler: handleOrganizationJoined
        - event: PlanterUpdated(address)
          handler: handlePlanterUpdated
        - event: AcceptedByOrganization(address)
          handler: handleAcceptedByOrganization
        - event: RejectedByOrganization(address)
          handler: handleRejectedByOrganization
        - event: OrganizationMemberShareUpdated(address)
          handler: handleOrganizationMemberShareUpdated
      file: ./src/mappings/Planter.ts
  - kind: ethereum/contract
    name: TreeFactory
    network: rinkeby
    source:
      address: '0x6E93F652D71C058c62fa8F15fc3225e24160faf7'
      abi: TreeFactory
      startBlock: 9452737
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Tree
        - TempTree
        - Planter
        - TreeUpdate
        - Funder
      abis:
        - name: TreeFactory
          file: ./abis/TreeFactory.json
      eventHandlers:
        - event: TreeListed(uint256)
          handler: handleTreeListed
        - event: TreeAssigned(uint256)
          handler: handleTreeAssigned
        - event: AssignedTreePlanted(uint256)
          handler: handleAssignedTreePlanted
        - event: TreePlanted(uint256)
          handler: handleTreePlanted
        - event: TreeVerified(uint256)
          handler: handleTreeVerified
        - event: TreeRejected(uint256)
          handler: handleTreeRejected
        - event: AssignedTreeVerified(uint256)
          handler: handleAssignedTreeVerified
        - event: AssignedTreeRejected(uint256)
          handler: handleAssignedTreeRejected
        - event: TreeUpdated(uint256)
          handler: handleTreeUpdated
        - event: TreeUpdatedVerified(uint256)
          handler: handleTreeUpdatedVerified
        - event: TreeUpdateRejected(uint256)
          handler: handleTreeUpdateRejected
        - event: TreeSpecsUpdated(uint256,string)
          handler: handleTreeSpecsUpdated
      file: ./src/mappings/TreeFactory.ts
  - kind: ethereum/contract
    name: Auction
    network: rinkeby
    source:
      address: '0xd00AC1B5055d3A4713f80Fc2E037Da3f809b743E'
      abi: Auction
      startBlock: 9452691
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Tree
        - Planter
        - Auction
        - Bid
        - Funder
      abis:
        - name: Auction
          file: ./abis/Auction.json
      eventHandlers:
        - event: AuctionCreated(uint256)
          handler: handleAuctionCreated
        - event: HighestBidIncreased(uint256,uint256,address,uint256,address)
          handler: handleHighestBidIncreased
        - event: AuctionSettled(uint256,uint256,address,uint256,address)
          handler: handleAuctionSettled
        - event: AuctionEnded(uint256,uint256)
          handler: handleAuctionEnded
        - event: AuctionEndTimeIncreased(uint256,uint256)
          handler: handleAuctionEndTimeIncreased
      file: ./src/mappings/Auction.ts
  - kind: ethereum/contract
    name: IncrementalSale
    network: rinkeby
    source:
      address: '0xd5aa046c75D7b0d83BD8d0986039E881C4107165'
      abi: IncrementalSale
      startBlock: 9452699
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Tree
        - IncrementalSale
        - Funder
      abis:
        - name: IncrementalSale
          file: ./abis/IncrementalSale.json
      eventHandlers:
        - event: IncrementalSaleUpdated()
          handler: handleIncrementalSaleUpdated
        - event: IncrementalSaleDataUpdated()
          handler: handleIncrementalSaleDataUpdated
        - event: TreeFunded(address,address,address,uint256,uint256)
          handler: handleTreeFunded
      file: ./src/mappings/IncrementalSale.ts

  - kind: ethereum/contract
    name: RegularSale
    network: rinkeby
    source:
      address: '0x284A8C079Af3EA02669e5B9e55d675CA7cE4253a'
      abi: RegularSale
      startBlock: 9452709
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Tree
        - RegularSale
        - Funder
      abis:
        - name: RegularSale
          file: ./abis/RegularSale.json
      eventHandlers:
        - event: TreeFunded(address,address,address,uint256,uint256)
          handler: handleTreeFunded
        - event: RegularMint(address,uint256,uint256)
          handler: handleRegularMint
        - event: TreeFundedById(address,address,address,uint256,uint256)
          handler: handleTreeFundedById
        - event: PriceUpdated(uint256)
          handler: handlePriceUpdated
      file: ./src/mappings/RegularSale.ts

  # - kind: ethereum/contract
  #   name: TreeAttribute
  #   network: rinkeby
  #   source:
  #     address: '0xf3422A89A357cFE114aD429303388BabF89Dff15'
  #     abi: TreeAttribute
  #     startBlock: 9042650
  #   mapping:
  #     kind: ethereum/events
  #     apiVersion: 0.0.4
  #     language: wasm/assemblyscript
  #     entities:
  #       - Tree
  #       - TreeAttribute
  #       - TreeWithAttributeProblem
  #     abis:
  #       - name: TreeAttribute
  #         file: ./abis/TreeAttribute.json
  #     eventHandlers:
  #       - event: BuyerRankSet(address,uint8)
  #         handler: handleBuyerRankSet
  #       # - event: TreeAttributesGenerated(uint256)
  #       #   handler: handleTreeAttributesGenerated
  #       - event: TreeAttributesNotGenerated(uint256)
  #         handler: handleTreeAttributesNotGenerated
  #     file: ./src/mappings/TreeAttribute.ts



  # - kind: ethereum/contract
  #   name: FinancialModel
  #   network: rinkeby
  #   source:
  #     address: '0xd5784E9F70D4C81B800491B799f6c33AF984caD7'
  #     abi: FinancialModel
  #     startBlock: 9061500
  #   mapping:
  #     kind: ethereum/events
  #     apiVersion: 0.0.4
  #     language: wasm/assemblyscript
  #     entities:
  #       - TotalFund
  #     abis:
  #       - name: FinancialModel
  #         file: ./abis/FinancialModel.json
  #     eventHandlers:
  #       - event: DistributionModelAdded(uint256)
  #         handler: handleDistributionModelAdded
  #       - event: FundDistributionModelAssigned(uint256)
  #         handler: handleFundDistributionModelAssigned
  #       # - event: FundDistributionModelAssigned(uint256)
  #       #   handler: handleFundDistributionModelAssigned
  #     file: ./src/mappings/FinancialModel.ts

  # - kind: ethereum/contract
  #   name: PlanterFund
  #   network: rinkeby
  #   source:
  #     address: '0xc2EFF2acc032974566583ac7e680545b0f3007fB'
  #     abi: PlanterFund
  #     startBlock: 9062500
  #   mapping:
  #     kind: ethereum/events
  #     apiVersion: 0.0.4
  #     language: wasm/assemblyscript
  #     entities:
  #       - TotalFund
  #     abis:
  #       - name: PlanterFund
  #         file: ./abis/PlanterFund.json
  #     eventHandlers:
  #       - event: PlanterFundSet(uint256,uint256,uint256)
  #         handler: handlePlanterFundSet
  #       - event: PlanterFunded(uint256,address,uint256)
  #         handler: handlePlanterFunded
  #       - event: PlanterBalanceWithdrawn(uint256,address)
  #         handler: handlePlanterBalanceWithdrawn
  #     file: ./src/mappings/PlanterFund.ts

  # - kind: ethereum/contract
  #   name: DaiFunds
  #   network: rinkeby
  #   source:
  #     address: '0x2a4803584395b4e613c5C7b84A9de0C38b56e835'
  #     abi: DaiFunds
  #     startBlock: 9063500
  #   mapping:
  #     kind: ethereum/events
  #     apiVersion: 0.0.4
  #     language: wasm/assemblyscript
  #     entities:
  #       - TotalFund
  #     abis:
  #       - name: DaiFunds
  #         file: ./abis/DaiFunds.json
  #       - name: FinancialModel
  #         file: ./abis/FinancialModel.json
  #     eventHandlers:
  #       - event: TreeResearchBalanceWithdrawn(uint256,address,string)
  #         handler: handleTreeResearchBalanceWithdrawn
  #       - event: LocalDevelopBalanceWithdrawn(uint256,address,string)
  #         handler: handleLocalDevelopBalanceWithdrawn
  #       - event: RescueBalanceWithdrawn(uint256,address,string)
  #         handler: handleRescueBalanceWithdrawn
  #       - event: TreejerDevelopBalanceWithdrawn(uint256,address,string)
  #         handler: handleTreejerDevelopBalanceWithdrawn
  #       - event: TreeFunded(uint256,uint256,uint256)
  #         handler: handleTreeFunded

  #     file: ./src/mappings/DaiFund.ts

  # - kind: ethereum/contract
  #   name: WethFunds
  #   network: rinkeby
  #   source:
  #     address: '0x23034d931778D38F538Bf14d321B775Dd4E82A3d'
  #     abi: WethFunds
  #     startBlock: 9063500
  #   mapping:
  #     kind: ethereum/events
  #     apiVersion: 0.0.4
  #     language: wasm/assemblyscript
  #     entities:
  #       - TotalFund
  #     abis:
  #       - name: WethFunds
  #         file: ./abis/WethFunds.json
  #       - name: FinancialModel
  #         file: ./abis/FinancialModel.json
  #     eventHandlers:
  #       - event: TreeResearchBalanceWithdrawn(uint256,address,string)
  #         handler: handleTreeResearchBalanceWithdrawn
  #       - event: LocalDevelopBalanceWithdrawn(uint256,address,string)
  #         handler: handleLocalDevelopBalanceWithdrawn
  #       - event: RescueBalanceWithdrawn(uint256,address,string)
  #         handler: handleRescueBalanceWithdrawn
  #       - event: TreejerDevelopBalanceWithdrawn(uint256,address,string)
  #         handler: handleTreejerDevelopBalanceWithdrawn
  #       - event: TreeFunded(uint256,uint256,uint256)
  #         handler: handleTreeFunded
  #     file: ./src/mappings/WethFunds.ts
